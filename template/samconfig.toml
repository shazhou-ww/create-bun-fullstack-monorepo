# SAM CLI Configuration File
# For local deployment and CI/CD

version = 0.1

[default]
[default.global.parameters]
stack_name = "{{PROJECT_NAME}}-dev"

[default.build.parameters]
cached = true
parallel = true

[default.deploy.parameters]
capabilities = "CAPABILITY_IAM"
confirm_changeset = false
resolve_s3 = true  # SAM will auto-handle S3 bucket (auto-create or use existing)
s3_prefix = "{{PROJECT_NAME}}"
region = "ap-southeast-2"  # Change according to your AWS config
image_repositories = []
parameter_overrides = "Environment=dev"
# s3_bucket = "your-sam-deployment-bucket"  # Optional: uncomment if you don't want SAM to auto-create

[default.package.parameters]
resolve_s3 = true

# Production environment config
[prod]
[prod.global.parameters]
stack_name = "{{PROJECT_NAME}}-prod"

[prod.build.parameters]
cached = true
parallel = true

[prod.deploy.parameters]
capabilities = "CAPABILITY_IAM"
confirm_changeset = true  # Require confirmation for production
resolve_s3 = true  # SAM will auto-handle S3 bucket (auto-create or use existing)
s3_prefix = "{{PROJECT_NAME}}"
region = "ap-southeast-2"  # Change according to your AWS config
image_repositories = []
parameter_overrides = "Environment=prod"
# s3_bucket = "your-sam-deployment-bucket"  # Optional: uncomment if you don't want SAM to auto-create

[prod.package.parameters]
resolve_s3 = true
